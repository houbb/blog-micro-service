import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as n,o as e}from"./app-DjwXz1dH.js";const l={};function t(h,s){return e(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="第10章-kubernetes-简介" tabindex="-1"><a class="header-anchor" href="#第10章-kubernetes-简介"><span>第10章：Kubernetes 简介</span></a></h1><p>Kubernetes（简称K8s）是Google开源的容器编排系统，它彻底改变了现代应用程序的部署、管理和扩展方式。作为云原生计算基金会（CNCF）的首个毕业项目，Kubernetes已经成为容器编排领域的事实标准。本章将全面介绍Kubernetes的基本概念、核心组件和主要功能，帮助读者理解这一革命性技术。</p><h2 id="kubernetes概述" tabindex="-1"><a class="header-anchor" href="#kubernetes概述"><span>Kubernetes概述</span></a></h2><p>Kubernetes是一个开源的容器编排平台，用于自动化部署、扩展和管理容器化应用程序。它提供了一个声明式的配置模型，允许用户描述应用程序的期望状态，然后由Kubernetes自动维护该状态。</p><h3 id="kubernetes的起源" tabindex="-1"><a class="header-anchor" href="#kubernetes的起源"><span>Kubernetes的起源</span></a></h3><p>Kubernetes的开发始于2014年，由Google基于其内部使用的Borg系统开发。Google在容器化技术方面有着丰富的经验，Borg系统已经运行了超过十年，管理着Google全球范围内的数百万个容器。</p><p>2015年，Google将Kubernetes捐赠给Cloud Native Computing Foundation（CNCF），使其成为一个开源项目。此后，Kubernetes迅速发展，得到了广泛的社区支持和企业采用。</p><h3 id="kubernetes的核心价值" tabindex="-1"><a class="header-anchor" href="#kubernetes的核心价值"><span>Kubernetes的核心价值</span></a></h3><h4 id="自动化部署" tabindex="-1"><a class="header-anchor" href="#自动化部署"><span>自动化部署</span></a></h4><p>Kubernetes能够自动化应用程序的部署过程，减少人工操作错误，提高部署效率。</p><h4 id="自动扩展" tabindex="-1"><a class="header-anchor" href="#自动扩展"><span>自动扩展</span></a></h4><p>Kubernetes可以根据应用程序的负载自动扩展或收缩实例数量，优化资源利用。</p><h4 id="自愈能力" tabindex="-1"><a class="header-anchor" href="#自愈能力"><span>自愈能力</span></a></h4><p>Kubernetes能够自动检测和修复故障，确保应用程序的高可用性。</p><h4 id="服务发现与负载均衡" tabindex="-1"><a class="header-anchor" href="#服务发现与负载均衡"><span>服务发现与负载均衡</span></a></h4><p>Kubernetes提供内置的服务发现和负载均衡功能，简化了微服务架构的实现。</p><h4 id="存储编排" tabindex="-1"><a class="header-anchor" href="#存储编排"><span>存储编排</span></a></h4><p>Kubernetes支持多种存储后端，能够自动化存储卷的配置和管理。</p><h4 id="配置和密钥管理" tabindex="-1"><a class="header-anchor" href="#配置和密钥管理"><span>配置和密钥管理</span></a></h4><p>Kubernetes提供了安全的配置和密钥管理机制，保护敏感信息。</p><h2 id="kubernetes核心概念" tabindex="-1"><a class="header-anchor" href="#kubernetes核心概念"><span>Kubernetes核心概念</span></a></h2><p>理解Kubernetes的核心概念是掌握这一技术的基础。这些概念构成了Kubernetes系统的基石。</p><h3 id="pod" tabindex="-1"><a class="header-anchor" href="#pod"><span>Pod</span></a></h3><p>Pod是Kubernetes中最小的可部署单元，它可以包含一个或多个容器。Pod中的容器共享网络和存储资源，作为一个整体进行调度和管理。</p><h4 id="pod的特点" tabindex="-1"><a class="header-anchor" href="#pod的特点"><span>Pod的特点</span></a></h4><ul><li><strong>最小部署单元</strong>：Kubernetes调度的最小单位</li><li><strong>共享网络</strong>：Pod中的容器共享同一个IP地址和端口空间</li><li><strong>共享存储</strong>：Pod中的容器可以共享存储卷</li><li><strong>短暂性</strong>：Pod是临时的，可能会被重新调度</li></ul><h4 id="pod的生命周期" tabindex="-1"><a class="header-anchor" href="#pod的生命周期"><span>Pod的生命周期</span></a></h4><ol><li><strong>Pending</strong>：Pod已被接受但容器尚未创建</li><li><strong>Running</strong>：Pod已绑定到节点并正在运行</li><li><strong>Succeeded</strong>：Pod中的所有容器都已成功终止</li><li><strong>Failed</strong>：Pod中的至少一个容器已失败</li><li><strong>Unknown</strong>：无法获取Pod的状态</li></ol><h3 id="service" tabindex="-1"><a class="header-anchor" href="#service"><span>Service</span></a></h3><p>Service是Kubernetes中的网络抽象，它为一组Pod提供稳定的网络端点。Service通过标签选择器来识别后端Pod，并提供负载均衡功能。</p><h4 id="service的类型" tabindex="-1"><a class="header-anchor" href="#service的类型"><span>Service的类型</span></a></h4><ol><li><strong>ClusterIP</strong>：默认类型，在集群内部暴露服务</li><li><strong>NodePort</strong>：在每个节点上开放一个端口来暴露服务</li><li><strong>LoadBalancer</strong>：通过云提供商的负载均衡器暴露服务</li><li><strong>ExternalName</strong>：将服务映射到外部DNS名称</li></ol><h3 id="volume" tabindex="-1"><a class="header-anchor" href="#volume"><span>Volume</span></a></h3><p>Volume是Kubernetes中的存储抽象，它为Pod提供持久化存储能力。Volume的生命周期独立于Pod中的容器，即使容器重启，数据也不会丢失。</p><h4 id="volume的类型" tabindex="-1"><a class="header-anchor" href="#volume的类型"><span>Volume的类型</span></a></h4><ol><li><strong>emptyDir</strong>：临时存储，Pod删除时数据丢失</li><li><strong>hostPath</strong>：挂载主机文件系统中的文件或目录</li><li><strong>persistentVolume</strong>：持久化存储，独立于Pod生命周期</li><li><strong>configMap</strong>：将配置数据注入到Pod中</li><li><strong>secret</strong>：将敏感数据注入到Pod中</li></ol><h3 id="namespace" tabindex="-1"><a class="header-anchor" href="#namespace"><span>Namespace</span></a></h3><p>Namespace是Kubernetes中的虚拟集群，它提供了一种将集群资源划分为多个虚拟团队的方法。不同的Namespace可以有相同的资源名称，但彼此隔离。</p><h4 id="namespace的用途" tabindex="-1"><a class="header-anchor" href="#namespace的用途"><span>Namespace的用途</span></a></h4><ul><li><strong>资源隔离</strong>：将不同团队或项目的资源隔离开来</li><li><strong>权限控制</strong>：为不同的Namespace设置不同的访问权限</li><li><strong>资源配额</strong>：为Namespace设置资源使用限制</li></ul><h3 id="label和selector" tabindex="-1"><a class="header-anchor" href="#label和selector"><span>Label和Selector</span></a></h3><p>Label是附加到Kubernetes对象上的键值对，用于标识和组织对象。Selector用于通过Label来选择对象。</p><h4 id="label的使用场景" tabindex="-1"><a class="header-anchor" href="#label的使用场景"><span>Label的使用场景</span></a></h4><ul><li><strong>组织对象</strong>：通过Label对对象进行分类</li><li><strong>选择对象</strong>：通过Selector选择特定的对象</li><li><strong>路由流量</strong>：通过Label控制流量路由</li></ul><h2 id="kubernetes架构" tabindex="-1"><a class="header-anchor" href="#kubernetes架构"><span>Kubernetes架构</span></a></h2><p>Kubernetes采用主从架构，由控制平面和工作节点组成。理解Kubernetes的架构有助于更好地使用和管理这一系统。</p><h3 id="控制平面-control-plane" tabindex="-1"><a class="header-anchor" href="#控制平面-control-plane"><span>控制平面（Control Plane）</span></a></h3><p>控制平面负责管理整个Kubernetes集群的状态，包括调度、自动扩展、故障检测和恢复等功能。</p><h4 id="api-server" tabindex="-1"><a class="header-anchor" href="#api-server"><span>API Server</span></a></h4><p>API Server是Kubernetes控制平面的前端，它提供了RESTful API接口，所有组件都通过API Server进行通信。</p><p><strong>主要功能</strong>：</p><ul><li>提供集群状态的统一入口</li><li>验证和配置API对象</li><li>处理认证、授权和准入控制</li></ul><h4 id="etcd" tabindex="-1"><a class="header-anchor" href="#etcd"><span>etcd</span></a></h4><p>etcd是Kubernetes的分布式键值存储，用于存储集群的所有配置数据和状态信息。</p><p><strong>主要特点</strong>：</p><ul><li>高可用性：通过Raft算法实现一致性</li><li>高性能：支持快速读写操作</li><li>可靠性：数据持久化存储</li></ul><h4 id="scheduler" tabindex="-1"><a class="header-anchor" href="#scheduler"><span>Scheduler</span></a></h4><p>Scheduler负责将Pod调度到合适的节点上运行。</p><p><strong>调度过程</strong>：</p><ol><li><strong>过滤</strong>：过滤掉不满足Pod要求的节点</li><li><strong>打分</strong>：为满足要求的节点打分</li><li><strong>选择</strong>：选择得分最高的节点</li></ol><h4 id="controller-manager" tabindex="-1"><a class="header-anchor" href="#controller-manager"><span>Controller Manager</span></a></h4><p>Controller Manager运行各种控制器，这些控制器负责维护集群的期望状态。</p><p><strong>主要控制器</strong>：</p><ul><li><strong>Node Controller</strong>：管理节点状态</li><li><strong>Replication Controller</strong>：维护Pod副本数量</li><li><strong>Endpoints Controller</strong>：填充Endpoints对象</li><li><strong>Service Account &amp; Token Controllers</strong>：管理服务账户和API访问令牌</li></ul><h4 id="cloud-controller-manager" tabindex="-1"><a class="header-anchor" href="#cloud-controller-manager"><span>Cloud Controller Manager</span></a></h4><p>Cloud Controller Manager运行与底层云提供商交互的控制器。</p><p><strong>主要功能</strong>：</p><ul><li>节点控制器：检查云提供商提供的节点是否已停止</li><li>路由控制器：在云基础设施上设置路由</li><li>服务控制器：创建、更新和删除云提供商负载均衡器</li></ul><h3 id="工作节点-worker-node" tabindex="-1"><a class="header-anchor" href="#工作节点-worker-node"><span>工作节点（Worker Node）</span></a></h3><p>工作节点是运行应用程序容器的机器，它们由控制平面管理。</p><h4 id="kubelet" tabindex="-1"><a class="header-anchor" href="#kubelet"><span>kubelet</span></a></h4><p>kubelet是运行在每个节点上的代理，负责与控制平面通信并管理节点上的Pod。</p><p><strong>主要功能</strong>：</p><ul><li>注册节点到控制平面</li><li>监控Pod状态并报告给API Server</li><li>确保容器按期望状态运行</li><li>挂载和卸载存储卷</li></ul><h4 id="kube-proxy" tabindex="-1"><a class="header-anchor" href="#kube-proxy"><span>kube-proxy</span></a></h4><p>kube-proxy运行在每个节点上，负责网络代理和负载均衡。</p><p><strong>主要功能</strong>：</p><ul><li>维护网络规则</li><li>执行服务发现和负载均衡</li><li>支持TCP、UDP和SCTP协议</li></ul><h4 id="容器运行时" tabindex="-1"><a class="header-anchor" href="#容器运行时"><span>容器运行时</span></a></h4><p>容器运行时负责实际运行容器，Kubernetes支持多种容器运行时，如Docker、containerd、CRI-O等。</p><p><strong>主要功能</strong>：</p><ul><li>拉取镜像</li><li>创建和管理容器</li><li>管理容器网络和存储</li></ul><h2 id="kubernetes主要功能" tabindex="-1"><a class="header-anchor" href="#kubernetes主要功能"><span>Kubernetes主要功能</span></a></h2><p>Kubernetes提供了丰富的功能来支持现代应用程序的开发和部署。</p><h3 id="服务发现与负载均衡-1" tabindex="-1"><a class="header-anchor" href="#服务发现与负载均衡-1"><span>服务发现与负载均衡</span></a></h3><h4 id="内部服务发现" tabindex="-1"><a class="header-anchor" href="#内部服务发现"><span>内部服务发现</span></a></h4><p>Kubernetes通过DNS和环境变量提供内部服务发现功能。</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Service配置示例</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">v1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Service</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">my-service</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  selector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">MyApp</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  ports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">protocol</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">TCP</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">80</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      targetPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">9376</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="负载均衡" tabindex="-1"><a class="header-anchor" href="#负载均衡"><span>负载均衡</span></a></h4><p>Kubernetes自动为Service提供负载均衡功能，将流量分发到后端Pod。</p><h3 id="存储编排-1" tabindex="-1"><a class="header-anchor" href="#存储编排-1"><span>存储编排</span></a></h3><h4 id="persistentvolume" tabindex="-1"><a class="header-anchor" href="#persistentvolume"><span>PersistentVolume</span></a></h4><p>PersistentVolume（PV）是集群中的一块存储资源，由管理员配置。</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># PersistentVolume配置示例</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">v1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">PersistentVolume</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">pv0003</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  capacity</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    storage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">5Gi</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  volumeMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Filesystem</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  accessModes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ReadWriteOnce</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  persistentVolumeReclaimPolicy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Recycle</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  storageClassName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">slow</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  mountOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">hard</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nfsvers=4.1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  nfs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/tmp</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">172.17.0.2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="persistentvolumeclaim" tabindex="-1"><a class="header-anchor" href="#persistentvolumeclaim"><span>PersistentVolumeClaim</span></a></h4><p>PersistentVolumeClaim（PVC）是用户对存储的请求。</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># PersistentVolumeClaim配置示例</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">v1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">PersistentVolumeClaim</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">myclaim</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  accessModes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ReadWriteOnce</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  volumeMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Filesystem</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  resources</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    requests</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      storage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">8Gi</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  storageClassName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">slow</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自动部署与回滚" tabindex="-1"><a class="header-anchor" href="#自动部署与回滚"><span>自动部署与回滚</span></a></h3><h4 id="deployment" tabindex="-1"><a class="header-anchor" href="#deployment"><span>Deployment</span></a></h4><p>Deployment提供了声明式的Pod更新方式，支持滚动更新和回滚。</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Deployment配置示例</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">apps/v1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Deployment</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx-deployment</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  labels</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  replicas</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  selector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    matchLabels</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  template</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      labels</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      containers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx:1.14.2</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        ports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">containerPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">80</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自动扩展-1" tabindex="-1"><a class="header-anchor" href="#自动扩展-1"><span>自动扩展</span></a></h3><h4 id="horizontal-pod-autoscaler" tabindex="-1"><a class="header-anchor" href="#horizontal-pod-autoscaler"><span>Horizontal Pod Autoscaler</span></a></h4><p>Horizontal Pod Autoscaler（HPA）根据CPU使用率或其他指标自动扩展Pod数量。</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># HPA配置示例</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">autoscaling/v2</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">HorizontalPodAutoscaler</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">php-apache</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  scaleTargetRef</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    apiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">apps/v1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Deployment</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">php-apache</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  minReplicas</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  maxReplicas</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  metrics</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Resource</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    resource</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">cpu</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      target</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Utilization</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        averageUtilization</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置与密钥管理" tabindex="-1"><a class="header-anchor" href="#配置与密钥管理"><span>配置与密钥管理</span></a></h3><h4 id="configmap" tabindex="-1"><a class="header-anchor" href="#configmap"><span>ConfigMap</span></a></h4><p>ConfigMap用于存储非机密性的配置数据。</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ConfigMap配置示例</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">v1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ConfigMap</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">game-demo</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # property-like keys; each key maps to a simple value</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  player_initial_lives</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;3&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  ui_properties_file_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;user-interface.properties&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # file-like keys</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  game.properties</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">|</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    enemy.types=aliens,monsters</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    player.maximum-lives=5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="secret" tabindex="-1"><a class="header-anchor" href="#secret"><span>Secret</span></a></h4><p>Secret用于存储敏感信息，如密码、令牌等。</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Secret配置示例</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">v1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Secret</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mysecret</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Opaque</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">YWRtaW4=</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">MWYyZDFlMmU2N2Rm</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="kubernetes生态系统" tabindex="-1"><a class="header-anchor" href="#kubernetes生态系统"><span>Kubernetes生态系统</span></a></h2><p>Kubernetes拥有丰富的生态系统，包括各种工具、平台和服务，这些组件共同构成了完整的云原生技术栈。</p><h3 id="容器镜像仓库" tabindex="-1"><a class="header-anchor" href="#容器镜像仓库"><span>容器镜像仓库</span></a></h3><ul><li><strong>Docker Hub</strong>：Docker官方镜像仓库</li><li><strong>Google Container Registry</strong>：Google云平台的镜像仓库</li><li><strong>Amazon Elastic Container Registry</strong>：AWS的镜像仓库</li><li><strong>Azure Container Registry</strong>：Azure的镜像仓库</li></ul><h3 id="监控与日志" tabindex="-1"><a class="header-anchor" href="#监控与日志"><span>监控与日志</span></a></h3><ul><li><strong>Prometheus</strong>：开源监控和告警工具包</li><li><strong>Grafana</strong>：开源的度量分析和可视化套件</li><li><strong>ELK Stack</strong>：Elasticsearch、Logstash、Kibana日志解决方案</li><li><strong>Fluentd</strong>：开源数据收集器</li></ul><h3 id="网络插件" tabindex="-1"><a class="header-anchor" href="#网络插件"><span>网络插件</span></a></h3><ul><li><strong>Calico</strong>：网络策略和网络安全解决方案</li><li><strong>Flannel</strong>：简单的网络覆盖方案</li><li><strong>Cilium</strong>：基于eBPF的网络、安全和可观察性平台</li><li><strong>Weave Net</strong>：网络覆盖和网络策略</li></ul><h3 id="存储插件" tabindex="-1"><a class="header-anchor" href="#存储插件"><span>存储插件</span></a></h3><ul><li><strong>Rook</strong>：云原生存储编排器</li><li><strong>Longhorn</strong>：云原生分布式块存储</li><li><strong>OpenEBS</strong>：容器化存储解决方案</li><li><strong>Rex-Ray</strong>：容器存储编排引擎</li></ul><h3 id="服务网格" tabindex="-1"><a class="header-anchor" href="#服务网格"><span>服务网格</span></a></h3><ul><li><strong>Istio</strong>：连接、管理和保护微服务的开放平台</li><li><strong>Linkerd</strong>：轻量级、可扩展的服务网格</li><li><strong>Consul</strong>：服务网格解决方案</li><li><strong>Traefik Mesh</strong>：简单但功能齐全的服务网格</li></ul><h2 id="kubernetes部署方式" tabindex="-1"><a class="header-anchor" href="#kubernetes部署方式"><span>Kubernetes部署方式</span></a></h2><p>Kubernetes可以在多种环境中部署，从本地开发环境到生产环境。</p><h3 id="本地开发环境" tabindex="-1"><a class="header-anchor" href="#本地开发环境"><span>本地开发环境</span></a></h3><ul><li><strong>Minikube</strong>：在本地运行单节点Kubernetes集群</li><li><strong>kind</strong>：使用Docker容器运行Kubernetes集群</li><li><strong>Docker Desktop</strong>：内置Kubernetes支持</li><li><strong>microk8s</strong>：轻量级的Kubernetes发行版</li></ul><h3 id="云平台部署" tabindex="-1"><a class="header-anchor" href="#云平台部署"><span>云平台部署</span></a></h3><ul><li><strong>Google Kubernetes Engine (GKE)</strong>：Google云平台的托管Kubernetes服务</li><li><strong>Amazon Elastic Kubernetes Service (EKS)</strong>：AWS的托管Kubernetes服务</li><li><strong>Azure Kubernetes Service (AKS)</strong>：Azure的托管Kubernetes服务</li><li><strong>Alibaba Cloud Container Service for Kubernetes (ACK)</strong>：阿里云的托管Kubernetes服务</li></ul><h3 id="自托管部署" tabindex="-1"><a class="header-anchor" href="#自托管部署"><span>自托管部署</span></a></h3><ul><li><strong>kubeadm</strong>：官方推荐的集群部署工具</li><li><strong>kops</strong>：Kubernetes Operations，用于在AWS上部署Kubernetes</li><li><strong>kubespray</strong>：使用Ansible部署Kubernetes集群</li><li><strong>Rancher</strong>：企业级Kubernetes管理平台</li></ul><h2 id="kubernetes最佳实践" tabindex="-1"><a class="header-anchor" href="#kubernetes最佳实践"><span>Kubernetes最佳实践</span></a></h2><p>为了充分发挥Kubernetes的优势并避免常见问题，需要遵循一些最佳实践。</p><h3 id="应用设计" tabindex="-1"><a class="header-anchor" href="#应用设计"><span>应用设计</span></a></h3><ol><li><strong>遵循十二要素应用原则</strong>：构建云原生应用</li><li><strong>无状态设计</strong>：尽可能设计无状态应用</li><li><strong>健康检查</strong>：实现就绪和存活探针</li><li><strong>资源限制</strong>：为容器设置合理的资源请求和限制</li></ol><h3 id="配置管理" tabindex="-1"><a class="header-anchor" href="#配置管理"><span>配置管理</span></a></h3><ol><li><strong>环境变量分离</strong>：使用ConfigMap管理配置</li><li><strong>敏感信息保护</strong>：使用Secret管理敏感数据</li><li><strong>配置版本控制</strong>：将配置文件纳入版本控制</li><li><strong>声明式配置</strong>：使用YAML文件描述期望状态</li></ol><h3 id="安全实践" tabindex="-1"><a class="header-anchor" href="#安全实践"><span>安全实践</span></a></h3><ol><li><strong>最小权限原则</strong>：为服务账户分配最小必要权限</li><li><strong>网络策略</strong>：实施网络隔离策略</li><li><strong>镜像安全</strong>：使用可信的基础镜像和扫描工具</li><li><strong>RBAC</strong>：实施基于角色的访问控制</li></ol><h3 id="监控与日志-1" tabindex="-1"><a class="header-anchor" href="#监控与日志-1"><span>监控与日志</span></a></h3><ol><li><strong>集中化日志</strong>：收集和分析应用日志</li><li><strong>性能监控</strong>：监控集群和应用性能</li><li><strong>告警机制</strong>：设置合理的告警规则</li><li><strong>可观察性</strong>：实施分布式追踪和指标收集</li></ol><h2 id="kubernetes发展趋势" tabindex="-1"><a class="header-anchor" href="#kubernetes发展趋势"><span>Kubernetes发展趋势</span></a></h2><p>Kubernetes作为云原生技术的核心，正在不断发展和完善。</p><h3 id="技术发展方向" tabindex="-1"><a class="header-anchor" href="#技术发展方向"><span>技术发展方向</span></a></h3><ol><li><strong>边缘计算</strong>：Kubernetes向边缘计算场景扩展</li><li><strong>多云管理</strong>：统一管理多个云平台的Kubernetes集群</li><li><strong>无服务器</strong>：Kubernetes与无服务器计算的融合</li><li><strong>AI/ML集成</strong>：更好地支持人工智能和机器学习工作负载</li></ol><h3 id="生态系统发展" tabindex="-1"><a class="header-anchor" href="#生态系统发展"><span>生态系统发展</span></a></h3><ol><li><strong>标准化</strong>：CNCF推动云原生技术标准化</li><li><strong>工具链完善</strong>：开发更易用的工具和平台</li><li><strong>安全性增强</strong>：加强容器和集群安全</li><li><strong>性能优化</strong>：持续优化Kubernetes性能</li></ol><h2 id="小结" tabindex="-1"><a class="header-anchor" href="#小结"><span>小结</span></a></h2><p>Kubernetes作为容器编排系统的事实标准，为现代应用程序的开发、部署和管理提供了强大的支持。通过本章的学习，我们了解了Kubernetes的基本概念、核心组件、主要功能和生态系统。</p><p>Kubernetes的核心价值在于其自动化能力，包括自动化部署、自动扩展、自愈能力等。这些功能使得应用程序能够在复杂的分布式环境中稳定运行。</p><p>Kubernetes的架构由控制平面和工作节点组成，控制平面负责集群管理，工作节点负责运行应用容器。理解这一架构有助于更好地使用和管理Kubernetes集群。</p><p>Kubernetes提供了丰富的功能，包括服务发现与负载均衡、存储编排、自动部署与回滚、自动扩展、配置与密钥管理等。这些功能使得Kubernetes能够满足现代应用程序的各种需求。</p><p>Kubernetes拥有丰富的生态系统，包括容器镜像仓库、监控与日志工具、网络插件、存储插件和服务网格等。这些组件共同构成了完整的云原生技术栈。</p><p>为了充分发挥Kubernetes的优势，需要遵循最佳实践，包括应用设计、配置管理、安全实践和监控日志等方面的实践。</p><p>随着云原生技术的不断发展，Kubernetes也在持续演进，向边缘计算、多云管理、无服务器计算等方向发展。掌握Kubernetes技术对于现代软件开发和运维人员来说至关重要，它不仅能够提高开发效率，还能够简化部署流程，降低运维成本。</p><p>通过持续学习和实践，我们可以更好地应用Kubernetes技术，构建更加稳定、高效和安全的云原生应用。</p>`,157)])])}const k=i(l,[["render",t]]),d=JSON.parse('{"path":"/posts/container-vm/10-1-Kubernetes-Introduction.html","title":"Kubernetes简介：容器编排系统的革命性技术","lang":"zh-CN","frontmatter":{"title":"Kubernetes简介：容器编排系统的革命性技术","date":"2025-08-31T00:00:00.000Z","categories":["Containerization","Kubernetes"],"tags":["container-vm"],"published":true,"description":"第10章：Kubernetes 简介 Kubernetes（简称K8s）是Google开源的容器编排系统，它彻底改变了现代应用程序的部署、管理和扩展方式。作为云原生计算基金会（CNCF）的首个毕业项目，Kubernetes已经成为容器编排领域的事实标准。本章将全面介绍Kubernetes的基本概念、核心组件和主要功能，帮助读者理解这一革命性技术。 Ku...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Kubernetes简介：容器编排系统的革命性技术\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-08-31T00:00:00.000Z\\",\\"dateModified\\":\\"2025-09-01T13:27:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"],["meta",{"property":"og:url","content":"https://houbb.github.io/blog-micro-service/posts/container-vm/10-1-Kubernetes-Introduction.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"Kubernetes简介：容器编排系统的革命性技术"}],["meta",{"property":"og:description","content":"第10章：Kubernetes 简介 Kubernetes（简称K8s）是Google开源的容器编排系统，它彻底改变了现代应用程序的部署、管理和扩展方式。作为云原生计算基金会（CNCF）的首个毕业项目，Kubernetes已经成为容器编排领域的事实标准。本章将全面介绍Kubernetes的基本概念、核心组件和主要功能，帮助读者理解这一革命性技术。 Ku..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-01T13:27:06.000Z"}],["meta",{"property":"article:tag","content":"container-vm"}],["meta",{"property":"article:published_time","content":"2025-08-31T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-01T13:27:06.000Z"}]]},"git":{"createdTime":1756698707000,"updatedTime":1756733226000,"contributors":[{"name":"binbin.hou","username":"","email":"binbin.hou@huifu.com","commits":1},{"name":"bbhou","username":"bbhou","email":"1557740299@qq.com","commits":1,"url":"https://github.com/bbhou"}]},"readingTime":{"minutes":12.33,"words":3698},"filePathRelative":"posts/container-vm/10-1-Kubernetes-Introduction.md","excerpt":"\\n<p>Kubernetes（简称K8s）是Google开源的容器编排系统，它彻底改变了现代应用程序的部署、管理和扩展方式。作为云原生计算基金会（CNCF）的首个毕业项目，Kubernetes已经成为容器编排领域的事实标准。本章将全面介绍Kubernetes的基本概念、核心组件和主要功能，帮助读者理解这一革命性技术。</p>\\n<h2>Kubernetes概述</h2>\\n<p>Kubernetes是一个开源的容器编排平台，用于自动化部署、扩展和管理容器化应用程序。它提供了一个声明式的配置模型，允许用户描述应用程序的期望状态，然后由Kubernetes自动维护该状态。</p>\\n<h3>Kubernetes的起源</h3>","autoDesc":true}');export{k as comp,d as data};
